<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Cerita Rakyat Pulau Timor</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f2f2f2;
            overflow-x: hidden;
        }

        .container {
            position: relative;
            width: 100%;
            max-width: 520px;
            margin: auto;
            overflow: hidden;
        }

        #pageImage {
            width: 100%;
            transition: transform 0.6s ease-in-out;
        }

        .nav a {
            margin: 10px;
            padding: 10px 20px;
            background-color: #0073ff;
            color: white;
            text-decoration: none;
            border-radius: 8px;
        }
    </style>
</head>
<body>

    <h2>Cerita Rakyat Pulau Timor</h2>

    <!-- ============================
         GAMBAR HALAMAN
    ============================ -->
    <div class="container">
        <img id="pageImage" src="hal1.jpg" alt="Halaman Cerita">
    </div>

    <!-- ============================
         AUDIO .AAC AUTOPLAY
    ============================ -->
    <audio id="pageAudio" autoplay>
        <source id="audioSource" src="audio1.aac" type="audio/aac">
    </audio>

    <!-- TOMBOL -->
    <div class="nav">
        <a href="#" onclick="prevPage()">Sebelumnya</a>
        <a href="#" onclick="nextPage()">Berikutnya</a>
    </div>

    <script>
        let currentPage = 1;
        const totalPages = 8;

        /* =====================================
           GANTI DENGAN FILE GAMBAR KAMU
        ====================================== */
        const images = [
            "cerita1.jpg",
            "cerita2.jpg",
            "halcerita3.jpg",
            "cerita4.jpg",
            "cerita5.jpg",
            "cerita6.jpg",
            "cerita7.jpg",
            "cerita8.jpg"
        ];

        /* =====================================
           GANTI DENGAN FILE AUDIO .AAC KAMU
           (BIARKAN FORMAT .aac, TIDAK PERLU MP3)
        ====================================== */
        const audios = [
            "audio1.aac",
            "audio2.aac",
            "audio3.aac",
            "audio4.aac",
            "audio5.aac",
            "audio6.aac",
            "audio7.aac",
            "audio8.aac"
        ];

        /* =====================================
           UPDATE HALAMAN DENGAN ANIMASI SWIPE
        ====================================== */
        function updatePage(direction) {
            const img = document.getElementById("pageImage");
            const audio = document.getElementById("pageAudio");
            const audioSource = document.getElementById("audioSource");

            if (direction === "next") {
                img.style.transform = "translateX(-100%)";
            } else if (direction === "prev") {
                img.style.transform = "translateX(100%)";
            }

            setTimeout(() => {
                img.src = images[currentPage - 1];

                img.style.transform = direction === "next"
                    ? "translateX(100%)"
                    : "translateX(-100%)";

                audioSource.src = audios[currentPage - 1];
                audio.load();
                audio.play().catch(() => {});

                setTimeout(() => {
                    img.style.transform = "translateX(0)";
                }, 30);

            }, 300);
        }

        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                updatePage("next");
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                updatePage("prev");
            }
        }

        /* =====================================
           SWIPE GESTURE (HP & MOUSE)
        ====================================== */

        let startX = 0;

        document.addEventListener("touchstart", (e) => {
            startX = e.touches[0].clientX;
        });

        document.addEventListener("touchend", (e) => {
            let diff = startX - e.changedTouches[0].clientX;
            if (diff > 50) nextPage();
            if (diff < -50) prevPage();
        });

        document.addEventListener("mousedown", (e) => {
            startX = e.clientX;
        });

        document.addEventListener("mouseup", (e) => {
            let diff = startX - e.clientX;
            if (diff > 50) nextPage();
            if (diff < -50) prevPage();
        });
    </script>

</body>
</html>
